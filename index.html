<!DOCTYPE html>
<html>

<head>
  <title>ファーレントゥーガ</title>

  <!-- createjs -->
  <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
  <!-- <script src="https://code.createjs.com/1.0.0/createjs.js"></script> -->

  <!-- reader -->
  <script src="js/reader/TaggedTextReader.js"></script>
  <script src="js/reader/TaggedScenarioReader.js"></script>
  <script src="js/reader/AreaDataReader.js"></script>
  <script src="js/reader/BinaryReader.js"></script>
  <script src="js/reader/CharacterDataReader.js"></script>
  <script src="js/reader/EscapeCodecLibrary.js"></script>

  <!-- bitmap -->
  <script src="js/bitmap/BitmapData.js"></script>
  <script src="js/bitmap/Unit.js"></script>
  <script src="js/bitmap/Area.js"></script>
  <script src="js/bitmap/MasterUnit.js"></script>
  <script src="js/bitmap/MotionBitmap.js"></script>
  <script src="js/bitmap/AlphalizeBitmap.js"></script>

  <!-- stage -->
  <script src="js/stage/SelectCharacterStage.js"></script>
  <script src="js/stage/StrategyMapStage.js"></script>
  <script src="js/stage/preloadAssets.js"></script>

  <!-- UI -->
  <script src="js/UI/ScrollContainer.js"></script>
  <script src="js/UI/ExplanationArea.js"></script>
  <script src="js/UI/StrategyHeaderBar.js"></script>
  <script src="js/UI/StrategySideBar.js"></script>
  <script src="js/UI/StrategyMap.js"></script>
  <script src="js/UI/BBText.js"></script>
  <script src="js/UI/Button.js"></script>

  <!-- scroller -->
  <script src="js/scroller/Scroller.js"></script>
  <script src="js/scroller/Animate.js"></script>

  <!-- css -->
  <link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
</head>

<body>
  <div id="container">
    <canvas id="GameCanvas" width="1280" height="720">alternate content</canvas>
  </div>
</body>

<script>
  function firstLoadAssets() {
    const scenarioPath = "assets/Default/Data/Scenario1"
    stage = new SelectCharacterStage("GameCanvas")
    stage.enableMouseOver()

    scenario = new TaggedScenarioReader(scenarioPath)
    scenario.delegateLoadMasterComplete = function() {
      stage.setup(this.masters)
    }

    createjs.Ticker.addEventListener("tick", stage)
    stage.update()
  }

  // Scroller.js使用のためonloadは使わない
  firstLoadAssets()
  preloadAssets()
</script>

<!-- scroller -->
<script src="js/scroller/ScrollerSetting.js"></script>

</html>
